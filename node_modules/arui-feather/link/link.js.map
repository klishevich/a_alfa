{"version":3,"sources":["link/link.jsx"],"names":["Link","state","hovered","focused","render","cn","linkElement","props","checked","disabled","linkProps","ref","root","download","className","pseudo","size","id","tabIndex","onClick","handleClick","onFocus","handleFocus","onBlur","handleBlur","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","target","rel","href","url","linkContent","children","iconTemplate","icon","textTemplate","text","iconPosition","push","createElement","event","preventDefault","setState","getNode","focus","blur","document","activeElement","Component","defaultProps","propTypes","node","oneOf","string","oneOfType","bool","number","arrayOf","theme","func"],"mappings":"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","file":"link.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport autobind from 'core-decorators/lib/autobind';\nimport React from 'react';\nimport Type from 'prop-types';\n\nimport cn from '../cn';\nimport performance from '../performance';\n\n/**\n * Компонент ссылки.\n */\n@cn('link')\n@performance()\nclass Link extends React.Component {\n    static propTypes = {\n        /** Иконка ссылки */\n        icon: Type.node,\n        /** Позиционирование иконки в ссылке */\n        iconPosition: Type.oneOf(['left', 'right']),\n        /** Текст ссылки */\n        text: Type.node,\n        /** href ссылки */\n        url: Type.string,\n        /** Указание на загрузку, вместо открытия и указание имени файла  */\n        download: Type.oneOfType([Type.string, Type.bool]),\n        /** target ссылки */\n        target: Type.oneOf(['_self', '_blank', '_parent', '_top']),\n        /** Последовательность перехода между контролами при нажатии на Tab */\n        tabIndex: Type.number,\n        /** Управление возможностью клика по ссылке */\n        disabled: Type.bool,\n        /** Управление состоянием ссылки выбран/не выбран */\n        checked: Type.bool,\n        /** Псевдо-ссылка (border-bottom: dashed) */\n        pseudo: Type.bool,\n        /** Размер компонента */\n        size: Type.oneOf(['xs', 's', 'm', 'l', 'xl']),\n        /** Дочерние элементы `Link` */\n        children: Type.oneOfType([Type.arrayOf(Type.node), Type.node]),\n        /** Тема компонента */\n        theme: Type.oneOf(['alfa-on-color', 'alfa-on-white']),\n        /** Дополнительный класс */\n        className: Type.string,\n        /** Идентификатор компонента в DOM */\n        id: Type.string,\n        /** Обработчик клика но ссылке */\n        onClick: Type.func,\n        /** Обработчик фокуса компонента */\n        onFocus: Type.func,\n        /** Обработчик снятия фокуса компонента */\n        onBlur: Type.func,\n        /** Обработчик события наведения курсора на ссылку */\n        onMouseEnter: Type.func,\n        /** Обработчик события снятия курсора с ссылки */\n        onMouseLeave: Type.func\n    };\n\n    static defaultProps = {\n        iconPosition: 'left',\n        size: 'm',\n        url: '#',\n        tabIndex: 0,\n        disabled: false,\n        checked: false,\n        pseudo: false\n    };\n\n    state = {\n        hovered: false,\n        focused: false\n    };\n\n    root;\n\n    render(cn) {\n        let linkElement = this.props.checked || this.props.disabled ? 'span' : 'a';\n\n        let linkProps = {\n            ref: (root) => { this.root = root; },\n            download: this.props.download,\n            className: cn({\n                disabled: this.props.disabled,\n                checked: this.props.checked,\n                pseudo: this.props.pseudo,\n                size: this.props.size,\n                focused: this.state.focused,\n                hovered: this.state.hovered\n            }),\n            id: this.props.id,\n            tabIndex: this.props.tabIndex,\n            onClick: this.handleClick,\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave\n        };\n\n        if (this.props.target === '_blank') {\n            linkProps.rel = 'noreferrer noopener';\n        }\n\n        if (!this.props.checked && !this.props.disabled) {\n            linkProps.href = this.props.url;\n            linkProps.target = this.props.target;\n        }\n\n\n        let linkContent = [this.props.children];\n        let iconTemplate = (\n            this.props.icon &&\n                <span key='icon' className={ cn('icon') }>\n                    { this.props.icon }\n                </span>\n        );\n        let textTemplate = (\n            this.props.text &&\n                <span key='text' className={ cn('text') }>\n                    { this.props.text }\n                </span>\n        );\n\n        if (this.props.iconPosition === 'left') {\n            linkContent.push(iconTemplate, textTemplate);\n        } else if (this.props.iconPosition === 'right') {\n            linkContent.push(textTemplate, iconTemplate);\n        }\n\n        return React.createElement(\n            linkElement,\n            linkProps,\n            linkContent\n        );\n    }\n\n    @autobind\n    handleClick(event) {\n        if (this.props.pseudo) {\n            event.preventDefault();\n        }\n        if (this.props.onClick) {\n            this.props.onClick(event);\n        }\n    }\n\n    @autobind\n    handleFocus(event) {\n        this.setState({ focused: true });\n\n        if (this.props.onFocus) {\n            this.props.onFocus(event);\n        }\n    }\n\n    @autobind\n    handleBlur(event) {\n        this.setState({ focused: false });\n\n        if (this.props.onBlur) {\n            this.props.onBlur(event);\n        }\n    }\n\n    @autobind\n    handleMouseEnter(event) {\n        this.setState({ hovered: true });\n\n        if (this.props.onMouseEnter) {\n            this.props.onMouseEnter(event);\n        }\n    }\n\n    @autobind\n    handleMouseLeave(event) {\n        this.setState({ hovered: false });\n\n        if (this.props.onMouseLeave) {\n            this.props.onMouseLeave(event);\n        }\n    }\n\n    /**\n     * Возвращает корневой `HTMLElement` компонента.\n     *\n     * @public\n     * @returns {HTMLElement}\n     */\n    getNode() {\n        return this.root;\n    }\n\n    /**\n     * Ставит фокус на ссылку.\n     *\n     * @public\n     */\n    focus() {\n        this.root.focus();\n    }\n\n    /**\n     * Убирает фокус с ссылки.\n     *\n     * @public\n     */\n    blur() {\n        if (document.activeElement) {\n            document.activeElement.blur();\n        }\n    }\n}\n\nexport default Link;\n"]}